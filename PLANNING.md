# 출퇴근 비용 계산기 - 기획서 및 개발 문서

## 1. 문제 정의

### 1.1 해결하려는 문제

**핵심 문제**: 화성 병점에서 서초까지 출퇴근하는 직장인이 차량 구매를 고민할 때, "자동차를 사는 것이 정말 경제적으로 합리적인 선택인가?"를 객관적으로 판단하기 어렵다.

**문제 선택 근거**:
1. **실제 경험 기반**: 본인의 실제 출퇴근 상황 (화성 병점 → 서초 코렌텍)
2. **복잡한 의사결정**: 단순 비교가 아닌 다양한 변수 고려 필요
3. **실용성**: 많은 직장인이 겪는 공통적인 고민
4. **측정 가능성**: 명확한 수치로 비교 가능

### 1.2 기존 문제점

대부분의 사람들이 차량 구매를 고민할 때:
- "교통비 vs 유류비"만 단순 비교
- 감가상각, 보험, 세금 등 숨은 비용 간과
- 출퇴근 시간 차이의 기회비용 미고려
- 손익분기점 계산 없이 감정적 결정

### 1.3 핵심 기능 vs 부가 기능

**핵심 기능** (MVP):
1. ✅ 출퇴근 정보 입력 (거리, 시간, 비용)
2. ✅ 자동차 비용 계산 (구매가, 유류비, 보험, 세금, 주차비, 통행료, 정비비, 감가상각)
3. ✅ 대중교통 비용 계산
4. ✅ 시간 가치 환산 (기회비용)
5. ✅ 월/연간 총 비용 비교
6. ✅ 손익분기점 계산
7. ✅ 추천 제공

**부가 기능** (향후 개선):
- 📊 그래프 시각화 (연도별 누적 비용)
- 💾 계산 결과 저장/공유
- 🚗 차량 프리셋 (차종별 평균 비용)
- 🔋 전기차/하이브리드 옵션
- 📍 지역별 평균 데이터

### 1.4 대상 사용자

**주 사용자**: 장거리 출퇴근으로 차량 구매를 고민하는 직장인

**사용자 페르소나**:
- 이름: 김직장 (28세, 직장인 3년차)
- 상황: 화성 병점 거주, 서초 근무
- 현재: 버스 1.5시간, 왕복 6,400원
- 고민: 차를 사면 1시간으로 단축되지만 비용이 걱정됨
- 니즈: 객관적인 비용 비교와 손익분기점 확인

### 1.5 사용자 시나리오

**시나리오 1: 첫 방문 사용자**
1. 사이트 접속
2. 기본값으로 설정된 예시 확인
3. 본인의 출퇴근 정보 입력
4. 실시간으로 계산 결과 확인
5. 추천 결과 확인 및 의사결정

**시나리오 2: 다양한 옵션 비교**
1. 3천만원 차량으로 계산
2. 2천만원 중고차로 변경하여 재계산
3. 감가상각 기간 조정 (5년 → 7년)
4. 시간 가치 조정하여 민감도 분석

**시나리오 3: 상세 분석**
1. 자동차 비용 상세 항목 확인
2. 어떤 비용이 가장 큰지 파악
3. 절감 가능한 항목 검토 (예: 주차비, 통행료)

### 1.6 예상 엣지 케이스 및 처리 방안

| 엣지 케이스 | 문제 | 처리 방안 |
|------------|------|----------|
| 음수 입력 | 비용이나 거리에 음수 입력 | 입력 필드에 min="0" 속성 추가 (향후) |
| 0 입력 | 거리나 근무일수 0 | 기본값 제공, 0일 경우 계산 불가 안내 |
| 극단적 값 | 차량가 1억원, 거리 500km | 계산은 정상 작동, 경고 메시지 없음 (사용자 판단) |
| 시간 역전 | 자동차가 대중교통보다 느림 | 정상 계산, 시간 기회비용에 반영 |
| 손익분기점 무한대 | 대중교통이 항상 저렴 | "손익분기점 없음" 표시 (현재 Infinity 처리) |
| 모바일 입력 | 작은 화면에서 입력 불편 | 반응형 디자인 적용 |

### 1.7 제약 조건

**시간 제약**:
- 제출 기한: 2026.02.13 자정
- 개발 가능 시간: 약 1.5일

**기술 제약**:
- 한글 경로 이슈로 Turbopack 빌드 불가 → 개발 서버로 테스트
- 배포 시 영문 경로 필요

**범위 제약**:
- 백엔드 없이 프론트엔드만 구현
- 데이터 저장 기능 제외 (로컬 스토리지도 제외)
- 외부 API 연동 없음

## 2. 개선 과정 기록

### 2.1 초기 설계 (v0.1)

**최초 계획**:
- Next.js + TypeScript + CSS Modules
- 단순 비용 비교 계산기

**문제점 발견**:
- CSS Modules보다 Tailwind CSS가 빠른 개발에 유리
- 시간 가치 개념 누락

### 2.2 설계 변경 (v0.2)

**변경 사항**:
1. ✅ Tailwind CSS로 변경 (빠른 스타일링)
2. ✅ 시간 가치 계산 추가
3. ✅ 손익분기점 계산 로직 추가
4. ✅ 추천 시스템 추가

**이유**:
- 평가 기준에서 "문제 정의"가 40점으로 가장 높음
- 단순 비용 비교보다 "시간 가치"를 포함한 총 비용 비교가 더 의미 있음
- 손익분기점은 실제 의사결정에 핵심적인 정보

### 2.3 구현 과정

**Step 1: 프로젝트 생성**
```bash
npx create-next-app@latest commute-cost-calculator --typescript --tailwind --app
```

**Step 2: 타입 정의**
- `CommuteInfo`: 출퇴근 정보
- `CarCosts`: 자동차 비용
- `TimeValue`: 시간 가치
- `CalculationResult`: 계산 결과

**Step 3: 계산 로직 구현**
- `calculator.ts`: 핵심 계산 로직
- 대중교통 vs 자동차 총 비용 계산
- 손익분기점 계산

**Step 4: UI 컴포넌트**
- `Calculator.tsx`: 메인 컴포넌트
- `InputSection.tsx`: 입력 폼
- `ResultSection.tsx`: 결과 표시

**Step 5: 스타일링**
- Tailwind CSS로 반응형 디자인
- 카드 레이아웃
- 색상 구분 (대중교통: 초록, 자동차: 파랑)

### 2.4 막혔던 부분과 해결

**문제 1: 한글 경로 빌드 에러**
```
Error: byte index 27 is not a char boundary; it is inside 'ᄐ' (bytes 26..29)
```
- 원인: Turbopack이 한글 경로를 처리하지 못함
- 시도 1: Webpack으로 전환 → 실패
- 시도 2: turbopack 설정 추가 → 실패
- 해결: 개발 서버로 테스트, 배포 시 영문 경로 사용 예정

**문제 2: 손익분기점 계산 로직**
- 초기: 단순히 "차량 구매가 / 월 절감액"으로 계산
- 문제: 자동차가 더 비싼 경우 음수 발생
- 해결: 월 절감액이 양수일 때만 계산, 아니면 Infinity 반환

**문제 3: 시간 가치 설정**
- 고민: 시간당 가치를 어떻게 설정할까?
- 해결: 사용자가 직접 입력하도록 하고, 힌트 제공 (연봉 ÷ 2080시간)

### 2.5 시간 배분

| 작업 | 예상 시간 | 실제 시간 | 비고 |
|------|----------|----------|------|
| 문제 정의 | 30분 | 40분 | 사용자 시나리오 작성에 시간 소요 |
| 프로젝트 설정 | 10분 | 20분 | 한글 경로 이슈 해결 |
| 타입 정의 | 10분 | 10분 | - |
| 계산 로직 | 30분 | 40분 | 손익분기점 로직 수정 |
| UI 컴포넌트 | 60분 | 진행중 | - |
| 스타일링 | 30분 | 예정 | - |
| 테스트 | 20분 | 예정 | - |
| 문서화 | 30분 | 진행중 | - |
| **총계** | **3.5시간** | **진행중** | - |

### 2.6 우선순위 조정

**초기 우선순위**:
1. 핵심 기능 구현
2. 그래프 시각화
3. 문서화

**조정된 우선순위** (시간 제약 고려):
1. ✅ 핵심 기능 구현 (완료)
2. ✅ 문서화 (진행중)
3. ⏭️ 그래프 시각화 (시간 있으면)

**이유**: 평가 기준에서 "문제 정의(40점)"와 "결과물 판단력(25점)"이 높은 비중을 차지하므로, 그래프보다 정확한 계산과 문서화가 우선

## 3. AI 활용 기록

### 3.1 AI에게 제공한 컨텍스트

**초기 컨텍스트**:
```
- 과제: 노아에이티에스 신입사원 채용 사전과제
- 주제: 9번 자동차 vs 대중교통
- 상황: 화성 병점 → 서초 코렌텍 출퇴근
- 대중교통: 1.5시간, 왕복 6,400원
- 기술 스택: Next.js, TypeScript, CSS Modules (→ Tailwind로 변경)
```

**추가 컨텍스트**:
- 평가 기준: 문제 정의(40점), 결과물 판단력(25점), 반복적 개선(20점), 맥락 관리(15점)
- 제출 기한: 2026.02.13 자정
- 제출물: 기획서 + 동작하는 웹앱

### 3.2 AI 활용 방식

**1. 프로젝트 구조 설계**
- 요청: "Next.js 프로젝트 생성 및 기본 구조 설계"
- AI 제안: App Router, TypeScript, Tailwind CSS
- 검증: ✅ 최신 Next.js 15 사용, 적절한 구조

**2. 타입 정의**
- 요청: "출퇴근 비용 계산에 필요한 TypeScript 타입 정의"
- AI 생성: `CommuteInfo`, `CarCosts`, `TimeValue`, `CalculationResult`
- 검증: ✅ 모든 필요한 필드 포함, 명확한 타입

**3. 계산 로직**
- 요청: "대중교통 vs 자동차 총 비용 계산 로직"
- AI 생성: `calculateCosts` 함수
- 검증: ✅ 감가상각, 시간 가치 포함
- 수정: 손익분기점 계산 로직 개선 (음수 처리)

**4. UI 컴포넌트**
- 요청: "입력 폼과 결과 표시 컴포넌트"
- AI 생성: `InputSection`, `ResultSection`
- 검증: ✅ 반응형 디자인, 직관적인 레이아웃
- 수정: 없음 (그대로 사용)

**5. 문서 작성**
- 요청: "README 및 기획서 작성"
- AI 생성: 구조화된 문서
- 검증: 진행중
- 수정: 실제 개발 과정 반영하여 수정 중

### 3.3 AI 결과물 검증 방법

**1. 코드 검증**
- ✅ TypeScript 타입 체크
- ✅ 개발 서버 실행 확인
- ✅ 브라우저에서 동작 테스트
- ⏳ 계산 결과 수동 검증 (예정)

**2. 계산 로직 검증**
- 예시 데이터로 수동 계산
- AI 계산 결과와 비교
- 엣지 케이스 테스트

**3. UI/UX 검증**
- 반응형 디자인 확인 (모바일/데스크톱)
- 입력 필드 동작 확인
- 실시간 계산 업데이트 확인

### 3.4 AI와의 협업에서 발견한 문제점

**문제 1: 한글 경로 이슈 예측 실패**
- AI가 한글 경로에서 Turbopack 빌드 에러를 예측하지 못함
- 실제 빌드 시도 후 발견
- 해결: 여러 시도 끝에 개발 서버로 우회

**문제 2: CSS Modules vs Tailwind**
- 초기 요청에서 CSS Modules 언급
- AI가 Tailwind를 제안했지만 확신 부족
- 해결: Tailwind가 빠른 개발에 유리하다고 판단, 채택

**문제 3: 손익분기점 계산 로직**
- AI 초기 로직이 음수 케이스 미처리
- 검증 과정에서 발견
- 해결: 조건문 추가하여 Infinity 반환

### 3.5 AI 활용의 효과

**긍정적 효과**:
- ✅ 빠른 프로젝트 설정 (10분 → 5분)
- ✅ 보일러플레이트 코드 자동 생성
- ✅ 타입 정의 및 계산 로직 초안 작성
- ✅ 문서 구조화

**개선 필요**:
- ⚠️ 엣지 케이스 처리 미흡
- ⚠️ 환경 이슈 예측 부족
- ⚠️ 계산 로직 검증 필요

**결론**: AI는 빠른 프로토타이핑에 매우 유용하지만, 최종 검증과 엣지 케이스 처리는 개발자가 직접 해야 함

## 4. 기술적 의사결정

### 4.1 기술 스택 선택

| 기술 | 선택 이유 | 대안 |
|------|----------|------|
| Next.js 15 | - App Router로 최신 패턴<br>- SSR/SSG 지원<br>- Vercel 배포 용이 | React + Vite |
| TypeScript | - 타입 안정성<br>- 계산 로직 오류 방지 | JavaScript |
| Tailwind CSS | - 빠른 스타일링<br>- 반응형 디자인 용이 | CSS Modules |

### 4.2 아키텍처 설계

```
app/
├── components/          # UI 컴포넌트
│   ├── Calculator.tsx   # 메인 컴포넌트 (상태 관리)
│   ├── InputSection.tsx # 입력 폼
│   └── ResultSection.tsx # 결과 표시
├── types/               # TypeScript 타입
│   └── index.ts
├── utils/               # 유틸리티 함수
│   └── calculator.ts    # 계산 로직
├── layout.tsx           # 레이아웃
└── page.tsx             # 메인 페이지
```

**설계 원칙**:
1. **관심사 분리**: 계산 로직과 UI 분리
2. **타입 안정성**: 모든 데이터에 타입 정의
3. **재사용성**: 컴포넌트 단위로 분리
4. **확장성**: 향후 기능 추가 용이

### 4.3 상태 관리

**선택**: React useState (로컬 상태)

**이유**:
- 단순한 앱이므로 전역 상태 관리 불필요
- Props drilling 깊이가 얕음 (최대 2단계)
- Redux, Zustand 등은 오버엔지니어링

### 4.4 계산 로직 설계

**핵심 함수**: `calculateCosts(commute, car, timeValue)`

**입력**:
- `commute`: 출퇴근 정보
- `car`: 자동차 비용
- `timeValue`: 시간 가치

**출력**:
- `publicTransport`: 대중교통 총 비용
- `car`: 자동차 총 비용 (상세 분석 포함)
- `breakEvenMonths`: 손익분기점
- `recommendation`: 추천

**설계 원칙**:
- 순수 함수 (side effect 없음)
- 테스트 가능
- 명확한 입출력

## 5. 테스트 계획

### 5.1 수동 테스트 시나리오

**시나리오 1: 기본 동작**
- [ ] 페이지 로드 확인
- [ ] 기본값으로 계산 결과 표시 확인
- [ ] 입력 필드 변경 시 실시간 업데이트 확인

**시나리오 2: 계산 정확성**
- [ ] 대중교통 비용 수동 계산 후 비교
- [ ] 자동차 비용 수동 계산 후 비교
- [ ] 손익분기점 수동 계산 후 비교

**시나리오 3: 엣지 케이스**
- [ ] 0 입력 시 동작 확인
- [ ] 극단적 값 입력 시 동작 확인
- [ ] 자동차가 대중교통보다 느린 경우

**시나리오 4: 반응형**
- [ ] 모바일 화면 (375px)
- [ ] 태블릿 화면 (768px)
- [ ] 데스크톱 화면 (1920px)

### 5.2 계산 검증

**예시 데이터**:
```
출퇴근 정보:
- 거리: 50km
- 근무일: 22일
- 대중교통 비용: 3,200원
- 대중교통 시간: 90분
- 자동차 시간: 60분

자동차 비용:
- 구매가: 30,000,000원
- 연비: 12km/L
- 유류비: 1,600원/L
- 보험: 1,200,000원/년
- 세금: 400,000원/년
- 주차비: 100,000원/월
- 통행료: 3,000원
- 정비비: 800,000원/년
- 감가상각: 5년

시간 가치:
- 시급: 20,000원
```

**예상 결과**:
```
대중교통:
- 월 교통비: 140,800원
- 시간 비용: 132,000원
- 월 총 비용: 272,800원

자동차:
- 월 감가상각: 500,000원
- 월 유류비: 293,333원
- 월 보험: 100,000원
- 월 세금: 33,333원
- 월 주차비: 100,000원
- 월 통행료: 132,000원
- 월 정비비: 66,667원
- 시간 비용: 88,000원
- 월 총 비용: 1,313,333원

손익분기점: 약 68개월 (5.7년)
추천: 대중교통
```

## 6. 배포 계획

### 6.1 배포 플랫폼

**선택**: Vercel

**이유**:
- Next.js 최적화
- 무료 플랜
- 자동 배포 (GitHub 연동)
- HTTPS 자동 설정

### 6.2 배포 전 체크리스트

- [ ] 한글 경로 이슈 해결 (영문 경로로 이동)
- [ ] 프로덕션 빌드 성공 확인
- [ ] 환경 변수 설정 (필요 시)
- [ ] README 업데이트
- [ ] 배포 URL 확인

### 6.3 배포 후 테스트

- [ ] 배포 URL 접속 확인
- [ ] 모든 기능 동작 확인
- [ ] 모바일 접속 확인
- [ ] 성능 확인 (Lighthouse)

## 7. 제출 준비

### 7.1 제출물 체크리스트

**기획서 및 개발 문서**:
- [x] 문제 정의
- [x] 개선 과정 기록
- [x] AI 활용 기록
- [ ] 최종 검토

**동작하는 웹앱**:
- [x] 소스코드 (GitHub)
- [x] README
- [ ] 배포 URL (Vercel)
- [ ] 로컬 실행 가능 확인

### 7.2 제출 이메일 초안

```
제목: [노아에이티에스 신입사원 채용] 사전과제 제출 - [이름]

안녕하세요.
노아에이티에스 신입사원 채용 사전과제를 제출합니다.

[지원자 정보]
- 이름: [이름]
- 선택 주제: 9번 - 자동차 vs 대중교통

[제출물]
1. 기획서 및 개발 문서: [GitHub 링크]/PLANNING.md
2. 소스코드: [GitHub 링크]
3. 배포 URL: [Vercel 링크]
4. README: [GitHub 링크]/README.md

[프로젝트 개요]
화성 병점에서 서초까지 출퇴근하는 직장인이 차량 구매를 고민할 때,
자동차와 대중교통의 총 비용을 비교하고 손익분기점을 계산하는 웹 애플리케이션입니다.

감사합니다.
```

## 8. 회고 및 개선점

### 8.1 잘한 점

1. **명확한 문제 정의**: 실제 경험 기반으로 구체적인 문제 설정
2. **시간 가치 포함**: 단순 비용 비교를 넘어 기회비용 고려
3. **손익분기점 계산**: 실제 의사결정에 도움이 되는 정보 제공
4. **문서화**: 개발 과정과 의사결정 과정 상세 기록

### 8.2 아쉬운 점

1. **한글 경로 이슈**: 초기에 예측하지 못해 시간 소요
2. **그래프 시각화 미구현**: 시간 제약으로 우선순위 조정
3. **테스트 코드 없음**: 수동 테스트만 진행

### 8.3 배운 점

1. **AI 활용**: 빠른 프로토타이핑에 유용하지만 검증 필수
2. **우선순위 조정**: 시간 제약 시 핵심 기능에 집중
3. **문제 정의의 중요성**: 평가 기준에서 가장 높은 비중

### 8.4 향후 개선 계획

**단기** (1주일):
- [ ] 그래프 시각화 (Chart.js)
- [ ] 테스트 코드 작성
- [ ] 입력 검증 강화

**중기** (1개월):
- [ ] 계산 결과 저장/공유
- [ ] 차량 프리셋 제공
- [ ] 전기차/하이브리드 옵션

**장기** (3개월):
- [ ] 백엔드 구축 (사용자 데이터 저장)
- [ ] 지역별 평균 데이터 제공
- [ ] 커뮤니티 기능 (다른 사용자 비교)

---

**작성일**: 2026.02.11
**작성자**: [이름]
**버전**: v1.0
